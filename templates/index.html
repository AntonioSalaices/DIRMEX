{%extends 'base/base.html'%}
{% load staticfiles %}

{%block extrastatic%}
<link href='https://fonts.googleapis.com/css?family=Muli' rel='stylesheet' type='text/css'>
<script src="https://cdnjs.cloudflare.com/ajax/libs/feather-icons/4.9.0/feather.min.js"></script>
<script src="https://cdn.jsdelivr.net/sweetalert2/6.6.2/sweetalert2.min.js"></script> 
<script src="https://d3js.org/d3.v3.min.js"></script>
<script src="https://d3js.org/topojson.v0.min.js"></script>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.2.4/jquery.min.js"></script>
<!-- <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script> -->
<script src="//cdnjs.cloudflare.com/ajax/libs/jquery/2.1.1/jquery.min.js" type="text/javascript"></script>
<link href="https://fonts.googleapis.com/css?family=Roboto:400,700" rel="stylesheet">
<link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">


<link rel="stylesheet" href="//code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css">
  <link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
  <script src="https://code.jquery.com/jquery-1.12.4.js"></script>
  <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>
<script>
   // TODO: Aquí consumes tu api
   $(document).ready(function(){           
           var endpoint = '/data/'
           var empresas = [];
           setCard();
           function setCard()
           {
            $.ajax({
               method: "GET",
               url: endpoint,

               success: function(data)
               {
                empresas = data
            $("#typer").autocomplete({
                  source: empresas.nombres
                });
                              
               },
               error: function(error_data){

               } 
           })
       
           }
     
       })



</script>
<style>
.ui-autocomplete {
    background: #eee;
    border-radius: 3px;
     opacity: 0.9;
     border-radius: 20px;
     position: absolute; cursor: default; 
     font-size: 200%;
       white-space: nowrap;
       
}

.ui-state-hover,
.ui-state-active,
.ui-state-focus {
  text-decoration: none;
  color: #262626;
  background-color: yellow;
  cursor: pointer;
}

body {
  overflow-x: hidden;
}

:root {
	--primary-color: rgba(0,0,0,0.3);
	--accent-color: white;
height: 10%;
	--text-color: black;
 	--main-font: 'roboto';
	--font-bold: 700;
	--font-regular: 400;
}
* { box-sizing: border-box }

body {
	color: var(--text-color);
	font-family: var(--main-font), Arial;
	font-weight: var(--font-regular);

  background-color: #eee;

  -webkit-background-size: cover;
  -moz-background-size: cover;
  -o-background-size: cover;
  background-size: cover;

    background-position: top;
}
main{ 
	display: flex;
	flex-direction: column;
	justify-content: center;
	align-items: right;
	width: 100vw;
	height: 100vh;
}
h1 { font-weight: var(--font-bold) }
input, 
button {
	border: none;
	background: none;
	outline: 0;
}
button {cursor: pointer}
.SearchBox-input::placeholder {/* No es un seudoelemento estandar */
   color: white;

}
/* Chrome, Opera ySafari */
.SearchBox-input::-webkit-input-placeholder {
  color: white;
}
/* Firefox 19+ */
.SearchBox-input::-moz-placeholder {
  color: white;
}
/* IE 10+ y Edge */
.SearchBox-input:-ms-input-placeholder {
    color: white;

}
/* Firefox 18- */
#formGroupExampleInput:-moz-placeholder {
    color: white;

}



.SearchBox {
	--height: 6em;
  
	display: flex;
	
	border-radius: var(--height);
	background-color: var(--primary-color);
	height: var(--height);
}
	.SearchBox:hover .SearchBox-input {
		padding-left: 1em;
		padding-right: 1em;
		width: 90%;
	}
	.SearchBox-input {
		font-size: 2.3em;
		color: white;
		transition: .45s;
	}
	.SearchBox-button {
		display: flex;
		border-radius: 50%;
		width: var(--height);
		height: var(--height);
		background-color: var(--accent-color);
		transition: .3s;
	}
	.SearchBox-button:active  {
		transform: scale(.85);
	}
	.SearchBox-icon {
		margin: auto;
		color: black;
	}


@media screen and (min-width: 40%){
	.SearchBox:hover .SearchBox-input {
		width: 40%;
	}
}

.center {
margin-left: auto;
  margin-right: auto;
    margin-top: 15%;
}



.card {
  box-shadow: 0 4px 8px 0 rgba(0,0,0,0.2);
  transition: 0.3s;
  width: 25%;
  float: left;

}

.card:hover {
  box-shadow: 0 8px 16px 0 rgba(0,0,0,0.5);
}

* {
  box-sizing: border-box;
}

.todo{
 background-color:#eee;

}

.margen {
 margin-left: 12%; 
 margin-right:12%; 
}
/* Create four
equal columns that floats next to each other */
.column {
 margin-left: 2%; 

  float: left;
  width: 23%;
  padding: 1%;
  height: 45%; /* Should be removed. Only for demonstration */
}

.columnas{
 margin-left: 3%; 
 margin-right: 3%; 

  float: left;

  padding: 1%;
  height: 45%; /* Should be removed. Only for demonstration */
}

/* Clear floats after the columns */
.row:after {
  content: "";
  display: table;
  clear: both;
} 

.amarillo
{
   background-size: cover; width: 100%; height: 50vh;
  background-color: #FBCA11;
  float: left;


}

.contactanos {
    padding: 20px;
}
@media only screen and (max-width: 780px){
  .contactanos {
    text-align: center;
    padding-bottom: 30px;
}
}
    
.inner {
    max-width: 960px;
    margin: 0 auto;
}
p.contus {
    font-size: 1.2em;
    color: #010101;
    text-transform: uppercase;
    font-weight: 400;
}
@media only screen and (max-width: 780px){
  a.callme {
    /* font-size: 1.5em; */
}
}

a.callme {
    font-size: 1.8em;
    font-weight: 500;
    margin: 0 auto;
}
a.callme, a.callme span {
    color: #4e4e4e;
    position: relative;
}
</style>
{%endblock%}


{%block content%}

<section class="cid-qJt8VDa5Sx mbr-fullscreen mbr-parallax-background" id="header2-f">
    <div class="grid-block" style="background-image: url('static/imagenes/portada.jpg'); background-size: cover; width: 100%; height: 100vh; ">
      <div class="container align-center">
          <div class="row justify-content-md-center">
                  <br>
                  <br>
                  <br>
                  <br>
                  <br>
                  
   <form class="center" method="post" >
  
    <div class="form-group">
  
   
    
    <div class="SearchBox">
  
      
      {% csrf_token %}
  
      <input type="text"  class="SearchBox-input" name="search"  type="text" id="typer" placeholder="">
    
        <button class="SearchBox-button" id="busqueda">
          <i class="SearchBox-icon  material-icons">search</i>
        </button>
      
       
        <button id="microfono">      
          <img src="https://img.icons8.com/carbon-copy/100/000000/microphone.png">
        </button>
    </div class="iconos">
    <font color="red">
    <img src="https://img.icons8.com/wired/64/000000/hospital.png">
    <img src="https://img.icons8.com/carbon-copy/100/000000/restaurant.png">
    <img src="https://img.icons8.com/dotty/80/000000/airplane-landing.png">
    </font>
    
    </div>
  
  
                  
          </div>
      </div>      
      </div>      
  
    </form>		
  
  <div class="todo">
    <div class="columnas">
  
      <div class="container-fluid">
        <div class="row">
  
          <div class="col-md-3" style="background-color:#eee;">
              <div class="column" style="width:100%">
                <h5 style="color:#408FF3;">
                  <br>
                  <center>
                    Dentistas<img src="https://img.icons8.com/bubbles/50/000000/medical-doctor.png">
                  </center>
              </h5>
                <div class="w3-card-4" style="width:100%">
                    <img  src="/static/imagenes/dentista.jpg" alt="Alps" style="width:100%">
                    <div class="w3-container w3-center">
                      <p>Contáctanos</p>
                    </div>
                </div>
            </div>
          </div>
  
  
          <div class="col-md-3" style="background-color:#eee;">
              <div class="column" style="width:100%">
                <h5 style="color:#9E8D0D;">
                  <br>
                    <center>
                       Hoteles <img src="https://img.icons8.com/bubbles/50/000000/bed.png">
                    </center>
                </h5>
                <div class="w3-card-4" style="width:100%">
                  <img src="/static/imagenes/hotel.jpg" alt="Alps" style="width:100%">
                  <div class="w3-container w3-center">
                    <p>Contáctanos</p>
                  </div>
                </div>
              </div>
          </div>
  
        <div class="col-md-3" style="background-color:#eee;">
            <div class="column" style="width:100%">
              <h5 style="color:#DE8B0C;">
                <br>
                  <center>
                    Agencia de viajes <img src="https://img.icons8.com/bubbles/50/000000/airplane-take-off.png">
                 </center>
              </h5>
                <div class="w3-card-4" style="width:100%">
                  <img src="/static/imagenes/viajes.jpg" alt="Alps" style="width:100%">
                  <div class="w3-container w3-center">
                    <p>Contáctanos</p>
                  </div>
                </div>
            </div>
        </div>
  
        <div class="col-md-3" style="background-color:#eee;">
            <div class="column" style="width:100%">
            <h5 style="color:#AD64FA;">
                <br> 
                <center>
                  Tu negocio<img src="https://img.icons8.com/bubbles/50/000000/work.png">
                 </center>
              </h5>
                <div class="w3-card-4" style="width:100%">
                  <img src="/static/imagenes/negocio.jpg" alt="Alps" style="width:100%">
                  <div class="w3-container w3-center">
                      <p>Contáctanos</p>
                    </div>         
                </div>
            </div>
        </div>
  
      </div>
  
      </div>
    </div>
  </div>
  </div>
  <div class="amarillo">
      <div class="row">
          <div class="col-md-4">
          <div class="headline"><h5>Imagen</h5></div>
          

          </div>
          <div class="col-md-4">
          <div class="headline"><h5>Misión</h5></div>

          </div>
          <div class="col-md-4">
          <div class="headline"><h5>Visión</h5></div>

          </div>
        </div>
  </div>    









        
  
    </div> 
    <!-- <div class="container-fluid"> -->
      <div class="row contactanos">
        <div class="inner">
          <div class="seven-columns">
              <p class="contus">Contáctanos de Lunes a Viernes de 9am. a 8pm.</p>
          </div>
          <div style="text-align: center;" class="five columns cl2"><a class="callme" href="tel:6878710572">
              <i class="fa fa-phone"></i>
            <span></span>(687)-871-05-72</a>
          </div>
        </div>
      </div>
    <!-- </div>  -->
              
</section>





{%endblock%}

{%block scripts%}
<script>

$("#menu-toggle").click(function(e) {
      e.preventDefault();
      $("#wrapper").toggleClass("toggled");
    });

    const words = ["Hospitales",
  "Asilos",
  "Hoteles",
  "Aeropuertos",
  "Centrales de autobuses",
  "Hospitales",
  "Asilos",
  "Hoteles",
  "Aeropuertos",
  "Centrales de autobuses",

];
let i = 0;
let timer;

function typingEffect() {
  let word = words[i].split("");
  var loopTyping = function() {
    if (word.length > 0) {
      let elem = document.getElementById('typer');
      elem.setAttribute('placeholder', elem.getAttribute('placeholder') + word.shift());
    } else {
      deletingEffect();
      return false;
    };
    timer = setTimeout(loopTyping, 200);
  };
  loopTyping();
};

function deletingEffect() {
  let word = words[i].split("");
  var loopDeleting = function() {
    if (word.length > 0) {
      word.pop();
      document.getElementById('typer').setAttribute('placeholder', word.join(""));
    } else {
      if (words.length > (i + 1)) {
        i++;
      } else {
        i = 0;
      };
      typingEffect();
      return false;
    };
    timer = setTimeout(loopDeleting, 100);
  };
  loopDeleting();
};

typingEffect();

var input = document.getElementById("typer");
input.addEventListener("keyup", function(event) {
  if (event.keyCode === 13) {
   event.preventDefault();
   document.getElementById("busqueda").click();
  }
});
document.getElementById("busqueda").addEventListener("click", valor);

document.getElementById("microfono").addEventListener("click", procesar);
	var recognition;
	var recognizing = false;
	if (!('webkitSpeechRecognition' in window)) {
		alert("¡API no soportada!");
	} else {

		recognition = new webkitSpeechRecognition();
		recognition.lang = "es-VE";
		recognition.continuous = true;
		recognition.interimResults = true;

		recognition.onstart = function() {
			recognizing = true;
			console.log("empezando a escuchar");
		}
		recognition.onresult = function(event) {

		 for (var i = event.resultIndex; i < event.results.length; i++) {
			if(event.results[i].isFinal)
				document.getElementById("typer").value += event.results[i][0].transcript;
		    }
			
			//texto
		}
		recognition.onerror = function(event) {
		}
		recognition.onend = function() {
			recognizing = false;
			document.getElementById("typer").innerHTML = "Escuchar";
			console.log("terminó de escuchar, llegó a su fin");

		}

	}

	function procesar() {

		if (recognizing == false) {
			recognition.start();
			recognizing = true;
			document.getElementById("typer").innerHTML = "Detener";
		} else {
			recognition.stop();
			recognizing = false;
			document.getElementById("typer").innerHTML = "Escuchar";
		}
	}

   function valor(){
            var valor = document.getElementById("typer").value;
            
        }





  </script>
{%endblock%}