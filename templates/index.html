{%extends 'base/base.html'%}
{% load staticfiles %}

{%block extrastatic%}
<link href='https://fonts.googleapis.com/css?family=Muli' rel='stylesheet' type='text/css'>
<script src="https://cdnjs.cloudflare.com/ajax/libs/feather-icons/4.9.0/feather.min.js"></script>
<script src="https://cdn.jsdelivr.net/sweetalert2/6.6.2/sweetalert2.min.js"></script> 
<script src="https://d3js.org/d3.v3.min.js"></script>
<script src="https://d3js.org/topojson.v0.min.js"></script>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.2.4/jquery.min.js"></script>
<!-- <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script> -->
<script src="//cdnjs.cloudflare.com/ajax/libs/jquery/2.1.1/jquery.min.js" type="text/javascript"></script>
<link href="https://fonts.googleapis.com/css?family=Roboto:400,700" rel="stylesheet">
<link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
<script>
    // TODO: Aquí consumes tu api
        $(document).ready(function(){           
           var endpoint = '/listado'
           var empresas = [];
           setCard();
           function setCard()
           {
            $.ajax({
               method: "GET",
               url: endpoint,

               success: function(data)
               {
                empresas = data
                console.log(empresas);
                              
               },
               error: function(error_data){

                   console.log("error")
                   console.log(error_data)
               } 
           })
          //   $("#tarjeta").empty()
          //   pedidos.forEach(function(pedido, index) {
          //     var listaPedidos = $("#tarjeta");
          //     listaPedidos.append(
          //         '<div class="card" >'
          //         +
          //         '<div class="card-body">'
          //             +     '<h5>' + 'Mesa: ' + pedido.mesa + '</h5>'
          //             +     '<h5>' + 'Nombre: ' + pedido.nombre_cliente + '</h5>'
          //             +     '<h5>' + 'Platillos: '+ pedido.orden + '</h5>'
          //             +     '<h5>' + 'Observación: '+ pedido.observacion + '</h5>'
          //         + '</div>'
          //         + '</div>'
          //         + '<br>'
          //         + '<br>'
          //           );    

          //   });
           }
         
       })
           </script>
<style>
body {
  overflow-x: hidden;
}

:root {
	--primary-color: #FADF75;
	--accent-color: #FBCA11;
height: 40%;
	--main-font: 'roboto';
	--font-bold: 700;
	--font-regular: 400;
}
* { box-sizing: border-box }

body {
	color: var(--text-color);
	background-color: var(--body-color);
	font-family: var(--main-font), Arial;
	font-weight: var(--font-regular);
}
main{ 
	display: flex;
	flex-direction: column;
	justify-content: center;
	align-items: center;
	width: 100vw;
	height: 100vh;
}
h1 { font-weight: var(--font-bold) }
input, 
button {
	border: none;
	background: none;
	outline: 0;
}
button {cursor: pointer}
.SearchBox-input::placeholder {/* No es un seudoelemento estandar */
 color:white;
	opacity: .6;
}
/* Chrome, Opera ySafari */
.SearchBox-input::-webkit-input-placeholder {
  color: #0A0B19;
}
/* Firefox 19+ */
.SearchBox-input::-moz-placeholder {
  color: #0A0B19;
}
/* IE 10+ y Edge */
.SearchBox-input:-ms-input-placeholder {
  color: #0A0B19;
}
/* Firefox 18- */
#formGroupExampleInput:-moz-placeholder {
  color: #0A0B19;
}



.SearchBox {
	--height: 6em;
	display: flex;
	
	border-radius: var(--height);
	background-color: var(--primary-color);
	height: var(--height);
}
	.SearchBox:hover .SearchBox-input {
		padding-left: 2em;
		padding-right: 1em;
		width: 240px;
	}
	.SearchBox-input {
		width: 0;
		font-size: 1.2em;
		color: #0A0B19;
		transition: .45s;
	}
	.SearchBox-button {
		display: flex;
		border-radius: 50%;
		width: var(--height);
		height: var(--height);
		background-color: var(--accent-color);
		transition: .3s;
	}
	.SearchBox-button:active  {
		transform: scale(.85);
	}
	.SearchBox-icon {
		margin: auto;
		color: #0A0B19;
	}


@media screen and (min-width: 400px){
	.SearchBox:hover .SearchBox-input {
		width: 500px;
	}
}

.center {
  position: fixed;
  bottom: 50%;
  right: center;
  width: center;
}

</style>
{%endblock%}


{%block content%}

<section class="cid-qJt8VDa5Sx mbr-fullscreen mbr-parallax-background" id="header2-f">
    <div class="container align-center">
        <div class="row justify-content-md-center">
                <br>
                <br>
                <br>
                <br>
                <br>
  <form method="post" class="form-signin-heading">
      {% csrf_token %}
      <div class="SearchBox">
          <input type="text" class="SearchBox-input" name="search"  id="typer" placeholder="">
         <br>
         <br>
            <button class="SearchBox-button">
              <i class="SearchBox-icon  material-icons">search</i>
            </button>
            <img src="https://img.icons8.com/carbon-copy/100/000000/microphone.png">
        </div>
        <img src="https://img.icons8.com/wired/64/000000/hospital.png">
        <img src="https://img.icons8.com/carbon-copy/100/000000/restaurant.png">
        <img src="https://img.icons8.com/dotty/80/000000/airplane-landing.png">
        </div>
  </form>
    </div>             
</section>





{%endblock%}

{%block scripts%}
<script>
    $("#menu-toggle").click(function(e) {
      e.preventDefault();
      $("#wrapper").toggleClass("toggled");
    });

    const words = ["Hospitales",
  "Asilos",
  "Hoteles",
  "Aeropuertos",
  "Centrales de autobuses",
  "Hospitales",
  "Asilos",
  "Hoteles",
  "Aeropuertos",
  "Centrales de autobuses",

];
let i = 0;
let timer;

function typingEffect() {
  let word = words[i].split("");
  var loopTyping = function() {
    if (word.length > 0) {
      let elem = document.getElementById('typer');
      elem.setAttribute('placeholder', elem.getAttribute('placeholder') + word.shift());
    } else {
      deletingEffect();
      return false;
    };
    timer = setTimeout(loopTyping, 200);
  };
  loopTyping();
};

function deletingEffect() {
  let word = words[i].split("");
  var loopDeleting = function() {
    if (word.length > 0) {
      word.pop();
      document.getElementById('typer').setAttribute('placeholder', word.join(""));
    } else {
      if (words.length > (i + 1)) {
        i++;
      } else {
        i = 0;
      };
      typingEffect();
      return false;
    };
    timer = setTimeout(loopDeleting, 100);
  };
  loopDeleting();
};

typingEffect();
  </script>
{%endblock%}